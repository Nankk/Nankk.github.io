shadow$provide.module$node_modules$google_auth_library$build$src$transporters=function(global,require,module,exports){var process=require("module$node_modules$process$browser");"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var gaxios_1=require("module$node_modules$gaxios$build$src$index"),options_1=require("module$node_modules$google_auth_library$build$src$options"),pkg=require("module$node_modules$google_auth_library$package_json"),DefaultTransporter=function(){};DefaultTransporter.prototype.configure=
function(opts){opts=void 0===opts?{}:opts;opts.headers=opts.headers||{};if("undefined"===typeof window){var uaValue=opts.headers["User-Agent"];uaValue?uaValue.includes("google-api-nodejs-client/")||(opts.headers["User-Agent"]=uaValue+" "+DefaultTransporter.USER_AGENT):opts.headers["User-Agent"]=DefaultTransporter.USER_AGENT;uaValue="auth/"+pkg.version;if(opts.headers["x-goog-api-client"])opts.headers["x-goog-api-client"]=opts.headers["x-goog-api-client"]+" "+uaValue;else{var nodeVersion=process.version.replace(/^v/,
"");opts.headers["x-goog-api-client"]="gl-node/"+nodeVersion+" "+uaValue}}return opts};DefaultTransporter.prototype.request=function(opts,callback){var $jscomp$this=this;opts=this.configure(opts);try{options_1.validate(opts)}catch(e){if(callback)return callback(e);throw e;}if(callback)gaxios_1.request(opts).then(function(r){callback(null,r)},function(e){callback($jscomp$this.processError(e))});else return gaxios_1.request(opts).catch(function(e){throw $jscomp$this.processError(e);})};DefaultTransporter.prototype.processError=
function(e){var res=e.response,body=res?res.data:null;res&&body&&body.error&&200!==res.status?"string"===typeof body.error?(e.message=body.error,e.code=res.status.toString()):Array.isArray(body.error.errors)?(e.message=body.error.errors.map(function(err2){return err2.message}).join("\n"),e.code=body.error.code,e.errors=body.error.errors):(e.message=body.error.message,e.code=body.error.code||res.status):res&&400<=res.status&&(e.message=body,e.code=res.status.toString());return e};exports.DefaultTransporter=
DefaultTransporter;DefaultTransporter.USER_AGENT="google-api-nodejs-client/"+pkg.version}
//# sourceMappingURL=module$node_modules$google_auth_library$build$src$transporters.js.map
