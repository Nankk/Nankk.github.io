{
"version":3,
"file":"module$node_modules$google_auth_library$build$src$transporters.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/google-auth-library/build/src/transporters.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$google_auth_library$build$src$transporters\"] = function(global,require,module,exports) {\nvar process = require('process');\n\"use strict\";\n/**\n * Copyright 2019 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst gaxios_1 = require(\"gaxios\");\nconst options_1 = require(\"./options\");\n// tslint:disable-next-line no-var-requires\nconst pkg = require('../../package.json');\nconst PRODUCT_NAME = 'google-api-nodejs-client';\nclass DefaultTransporter {\n    /**\n     * Configures request options before making a request.\n     * @param opts GaxiosOptions options.\n     * @return Configured options.\n     */\n    configure(opts = {}) {\n        opts.headers = opts.headers || {};\n        if (typeof window === 'undefined') {\n            // set transporter user agent if not in browser\n            const uaValue = opts.headers['User-Agent'];\n            if (!uaValue) {\n                opts.headers['User-Agent'] = DefaultTransporter.USER_AGENT;\n            }\n            else if (!uaValue.includes(`${PRODUCT_NAME}/`)) {\n                opts.headers['User-Agent'] = `${uaValue} ${DefaultTransporter.USER_AGENT}`;\n            }\n            // track google-auth-library-nodejs version:\n            const authVersion = `auth/${pkg.version}`;\n            if (opts.headers['x-goog-api-client']) {\n                opts.headers['x-goog-api-client'] = `${opts.headers['x-goog-api-client']} ${authVersion}`;\n            }\n            else {\n                const nodeVersion = process.version.replace(/^v/, '');\n                opts.headers['x-goog-api-client'] = `gl-node/${nodeVersion} ${authVersion}`;\n            }\n        }\n        return opts;\n    }\n    request(opts, callback) {\n        // ensure the user isn't passing in request-style options\n        opts = this.configure(opts);\n        try {\n            options_1.validate(opts);\n        }\n        catch (e) {\n            if (callback) {\n                return callback(e);\n            }\n            else {\n                throw e;\n            }\n        }\n        if (callback) {\n            gaxios_1.request(opts).then(r => {\n                callback(null, r);\n            }, e => {\n                callback(this.processError(e));\n            });\n        }\n        else {\n            return gaxios_1.request(opts).catch(e => {\n                throw this.processError(e);\n            });\n        }\n    }\n    /**\n     * Changes the error to include details from the body.\n     */\n    processError(e) {\n        const res = e.response;\n        const err = e;\n        const body = res ? res.data : null;\n        if (res && body && body.error && res.status !== 200) {\n            if (typeof body.error === 'string') {\n                err.message = body.error;\n                err.code = res.status.toString();\n            }\n            else if (Array.isArray(body.error.errors)) {\n                err.message = body.error.errors\n                    .map((err2) => err2.message)\n                    .join('\\n');\n                err.code = body.error.code;\n                err.errors = body.error.errors;\n            }\n            else {\n                err.message = body.error.message;\n                err.code = body.error.code || res.status;\n            }\n        }\n        else if (res && res.status >= 400) {\n            // Consider all 4xx and 5xx responses errors.\n            err.message = body;\n            err.code = res.status.toString();\n        }\n        return err;\n    }\n}\nexports.DefaultTransporter = DefaultTransporter;\n/**\n * Default user agent.\n */\nDefaultTransporter.USER_AGENT = `${PRODUCT_NAME}/${pkg.version}`;\n//# sourceMappingURL=transporters.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","process","Object","defineProperty","value","gaxios_1","options_1","pkg","DefaultTransporter","configure","opts","headers","window","uaValue","includes","USER_AGENT","authVersion","version","nodeVersion","replace","request","callback","validate","e","then","r","processError","catch","res","response","body","data","error","status","message","code","toString","Array","isArray","errors","map","err2","join"]
}
