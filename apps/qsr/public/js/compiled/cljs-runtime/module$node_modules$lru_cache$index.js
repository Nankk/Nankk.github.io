shadow$provide.module$node_modules$lru_cache$index=function(global,require,module,exports){var Yallist=require("module$node_modules$yallist$yallist");$jscomp.initSymbol();var MAX=Symbol("max");$jscomp.initSymbol();var LENGTH=Symbol("length");$jscomp.initSymbol();var LENGTH_CALCULATOR=Symbol("lengthCalculator");$jscomp.initSymbol();var ALLOW_STALE=Symbol("allowStale");$jscomp.initSymbol();var MAX_AGE=Symbol("maxAge");$jscomp.initSymbol();var DISPOSE=Symbol("dispose");$jscomp.initSymbol();var NO_DISPOSE_ON_SET=
Symbol("noDisposeOnSet");$jscomp.initSymbol();var LRU_LIST=Symbol("lruList");$jscomp.initSymbol();var CACHE=Symbol("cache");$jscomp.initSymbol();var UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet"),naiveLength=function(){return 1};global=function(options){"number"===typeof options&&(options={max:options});options||(options={});if(options.max&&("number"!==typeof options.max||0>options.max))throw new TypeError("max must be a non-negative number");this[MAX]=options.max||Infinity;var lc=options.length||naiveLength;
this[LENGTH_CALCULATOR]="function"!==typeof lc?naiveLength:lc;this[ALLOW_STALE]=options.stale||!1;if(options.maxAge&&"number"!==typeof options.maxAge)throw new TypeError("maxAge must be a number");this[MAX_AGE]=options.maxAge||0;this[DISPOSE]=options.dispose;this[NO_DISPOSE_ON_SET]=options.noDisposeOnSet||!1;this[UPDATE_AGE_ON_GET]=options.updateAgeOnGet||!1;this.reset()};global.prototype.rforEach=function(fn,thisp){thisp=thisp||this;for(var walker=this[LRU_LIST].tail;null!==walker;){var prev=walker.prev;
forEachStep(this,fn,walker,thisp);walker=prev}};global.prototype.forEach=function(fn,thisp){thisp=thisp||this;for(var walker=this[LRU_LIST].head;null!==walker;){var next=walker.next;forEachStep(this,fn,walker,thisp);walker=next}};global.prototype.keys=function(){return this[LRU_LIST].toArray().map(function(k){return k.key})};global.prototype.values=function(){return this[LRU_LIST].toArray().map(function(k){return k.value})};global.prototype.reset=function(){var $jscomp$this=this;this[DISPOSE]&&this[LRU_LIST]&&
this[LRU_LIST].length&&this[LRU_LIST].forEach(function(hit){return $jscomp$this[DISPOSE](hit.key,hit.value)});this[CACHE]=new Map;this[LRU_LIST]=new Yallist;this[LENGTH]=0};global.prototype.dump=function(){var $jscomp$this=this;return this[LRU_LIST].map(function(hit){return isStale($jscomp$this,hit)?!1:{k:hit.key,v:hit.value,e:hit.now+(hit.maxAge||0)}}).toArray().filter(function(h){return h})};global.prototype.dumpLru=function(){return this[LRU_LIST]};global.prototype.set=function(key,value,maxAge){if((maxAge=
maxAge||this[MAX_AGE])&&"number"!==typeof maxAge)throw new TypeError("maxAge must be a number");var now=maxAge?Date.now():0,len=this[LENGTH_CALCULATOR](value,key);if(this[CACHE].has(key)){if(len>this[MAX])return del(this,this[CACHE].get(key)),!1;var item=this[CACHE].get(key).value;if(this[DISPOSE]&&!this[NO_DISPOSE_ON_SET])this[DISPOSE](key,item.value);item.now=now;item.maxAge=maxAge;item.value=value;this[LENGTH]+=len-item.length;item.length=len;this.get(key);trim(this);return!0}maxAge=new Entry(key,
value,len,now,maxAge);if(maxAge.length>this[MAX]){if(this[DISPOSE])this[DISPOSE](key,value);return!1}this[LENGTH]+=maxAge.length;this[LRU_LIST].unshift(maxAge);this[CACHE].set(key,this[LRU_LIST].head);trim(this);return!0};global.prototype.has=function(key){if(!this[CACHE].has(key))return!1;key=this[CACHE].get(key).value;return!isStale(this,key)};global.prototype.get=function(key){return get(this,key,!0)};global.prototype.peek=function(key){return get(this,key,!1)};global.prototype.pop=function(){var node=
this[LRU_LIST].tail;if(!node)return null;del(this,node);return node.value};global.prototype.del=function(key){del(this,this[CACHE].get(key))};global.prototype.load=function(arr){this.reset();for(var now=Date.now(),l=arr.length-1;0<=l;l--){var hit=arr[l],expiresAt=hit.e||0;0===expiresAt?this.set(hit.k,hit.v):(expiresAt-=now,0<expiresAt&&this.set(hit.k,hit.v,expiresAt))}};global.prototype.prune=function(){var $jscomp$this=this;this[CACHE].forEach(function(value,key){return get($jscomp$this,key,!1)})};
$jscomp.global.Object.defineProperties(global.prototype,{max:{configurable:!0,enumerable:!0,set:function(mL){if("number"!==typeof mL||0>mL)throw new TypeError("max must be a non-negative number");this[MAX]=mL||Infinity;trim(this)},get:function(){return this[MAX]}},allowStale:{configurable:!0,enumerable:!0,set:function(allowStale){this[ALLOW_STALE]=!!allowStale},get:function(){return this[ALLOW_STALE]}},maxAge:{configurable:!0,enumerable:!0,set:function(mA){if("number"!==typeof mA)throw new TypeError("maxAge must be a non-negative number");
this[MAX_AGE]=mA;trim(this)},get:function(){return this[MAX_AGE]}},lengthCalculator:{configurable:!0,enumerable:!0,set:function(lC){var $jscomp$this=this;"function"!==typeof lC&&(lC=naiveLength);lC!==this[LENGTH_CALCULATOR]&&(this[LENGTH_CALCULATOR]=lC,this[LENGTH]=0,this[LRU_LIST].forEach(function(hit){hit.length=$jscomp$this[LENGTH_CALCULATOR](hit.value,hit.key);$jscomp$this[LENGTH]+=hit.length}));trim(this)},get:function(){return this[LENGTH_CALCULATOR]}},length:{configurable:!0,enumerable:!0,
get:function(){return this[LENGTH]}},itemCount:{configurable:!0,enumerable:!0,get:function(){return this[LRU_LIST].length}}});var get=function(self,key,doUse){if(key=self[CACHE].get(key)){var hit=key.value;if(isStale(self,hit)){if(del(self,key),!self[ALLOW_STALE])return}else doUse&&(self[UPDATE_AGE_ON_GET]&&(key.value.now=Date.now()),self[LRU_LIST].unshiftNode(key));return hit.value}},isStale=function(self,hit){if(!hit||!hit.maxAge&&!self[MAX_AGE])return!1;var diff=Date.now()-hit.now;return hit.maxAge?
diff>hit.maxAge:self[MAX_AGE]&&diff>self[MAX_AGE]},trim=function(self){if(self[LENGTH]>self[MAX])for(var walker=self[LRU_LIST].tail;self[LENGTH]>self[MAX]&&null!==walker;){var prev=walker.prev;del(self,walker);walker=prev}},del=function(self,node){if(node){var hit=node.value;if(self[DISPOSE])self[DISPOSE](hit.key,hit.value);self[LENGTH]-=hit.length;self[CACHE].delete(hit.key);self[LRU_LIST].removeNode(node)}},Entry=function(key,value,length,now,maxAge){this.key=key;this.value=value;this.length=length;
this.now=now;this.maxAge=maxAge||0},forEachStep=function(self,fn,node,thisp){var hit=node.value;isStale(self,hit)&&(del(self,node),self[ALLOW_STALE]||(hit=void 0));hit&&fn.call(thisp,hit.value,hit.key,self)};module.exports=global}
//# sourceMappingURL=module$node_modules$lru_cache$index.js.map
