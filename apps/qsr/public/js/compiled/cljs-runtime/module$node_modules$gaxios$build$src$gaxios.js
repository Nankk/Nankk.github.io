shadow$provide.module$node_modules$gaxios$build$src$gaxios=function(global,require,module,exports){function loadProxy(){var proxy=process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy;proxy&&(HttpsProxyAgent=require("module$node_modules$https_proxy_agent$index"));return proxy}var process=require("module$node_modules$process$browser");"use strict";module=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,
"__esModule",{value:!0});var extend_1=module(require("module$node_modules$extend$index"));global=module(require("module$node_modules$node_fetch$index"));var querystring_1=module(require("module$node_modules$querystring_es3$index")),stream_1=module(require("module$node_modules$stream_browserify$index"));module=module(require("module$node_modules$url$url"));var common_1=require("module$node_modules$gaxios$build$src$common"),isbrowser_1=require("module$node_modules$gaxios$build$src$isbrowser"),retry_1=
require("module$node_modules$gaxios$build$src$retry"),URL=isbrowser_1.isBrowser()?window.URL:module.default.URL,fetch=isbrowser_1.isBrowser()?window.fetch:global.default,HttpsProxyAgent;loadProxy();global=function(defaults){this.agentCache=new Map;this.defaults=defaults||{}};global.prototype.request=function(opts){opts=void 0===opts?{}:opts;var $jscomp$async$this=this,translatedResponse,res,data,e,err,$jscomp$destructuring$var2,shouldRetry,config;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:return opts=
$jscomp$async$this.validateOpts(opts),$jscomp$generator$context.setCatchFinallyBlocks(2),opts.adapter?$jscomp$generator$context.yield(opts.adapter(opts),8):$jscomp$generator$context.yield(fetch(opts.url,opts),6);case 6:return res=$jscomp$generator$context.yieldResult,$jscomp$generator$context.yield($jscomp$async$this.getResponseData(opts,res),7);case 7:data=$jscomp$generator$context.yieldResult;translatedResponse=$jscomp$async$this.translateResponse(opts,res,data);$jscomp$generator$context.jumpTo(5);
break;case 8:translatedResponse=$jscomp$generator$context.yieldResult;case 5:if(!opts.validateStatus(translatedResponse.status))throw new common_1.GaxiosError("Request failed with status code "+translatedResponse.status,opts,translatedResponse);return $jscomp$generator$context.return(translatedResponse);case 2:return err=e=$jscomp$generator$context.enterCatchBlock(),err.config=opts,$jscomp$generator$context.yield(retry_1.getRetryConfig(e),9);case 9:$jscomp$destructuring$var2=$jscomp$generator$context.yieldResult;
shouldRetry=$jscomp$destructuring$var2.shouldRetry;config=$jscomp$destructuring$var2.config;if(shouldRetry&&config)return err.config.retryConfig.currentRetryAttempt=config.retryConfig.currentRetryAttempt,$jscomp$generator$context.return($jscomp$async$this.request(err.config));throw err;}})};global.prototype.getResponseData=function(opts,res){var data;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){if(1==$jscomp$generator$context.nextAddress)switch(opts.responseType){case "stream":return $jscomp$generator$context.return(res.body);
case "json":return $jscomp$generator$context.jumpTo(2);case "arraybuffer":return $jscomp$generator$context.return(res.arrayBuffer());case "blob":return $jscomp$generator$context.return(res.blob());default:return $jscomp$generator$context.return(res.text())}if(4!=$jscomp$generator$context.nextAddress)return $jscomp$generator$context.yield(res.text(),4);data=$jscomp$generator$context.yieldResult;try{data=JSON.parse(data)}catch(e){}return $jscomp$generator$context.return(data)})};global.prototype.validateOpts=
function(options){var opts=extend_1.default(!0,{},this.defaults,options);if(!opts.url)throw Error("URL is required.");var baseUrl=opts.baseUrl||opts.baseURL;baseUrl&&(opts.url=baseUrl+opts.url);baseUrl=new URL(opts.url);opts.url=""+baseUrl.origin+baseUrl.pathname;opts.params=extend_1.default(querystring_1.default.parse(baseUrl.search.substr(1)),opts.params);opts.paramsSerializer=opts.paramsSerializer||this.paramsSerializer;opts.params&&(baseUrl.search=opts.paramsSerializer(opts.params));opts.url=
baseUrl.href;"number"===typeof options.maxContentLength&&(opts.size=options.maxContentLength);"number"===typeof options.maxRedirects&&(opts.follow=options.maxRedirects);opts.headers=opts.headers||{};opts.data&&(this.isReadableStream(opts.data)?opts.body=opts.data:"object"===typeof opts.data?(opts.body=JSON.stringify(opts.data),opts.headers["Content-Type"]="application/json"):opts.body=opts.data);opts.validateStatus=opts.validateStatus||this.validateStatus;opts.responseType=opts.responseType||"json";
opts.headers.Accept||"json"!==opts.responseType||(opts.headers.Accept="application/json");opts.method=opts.method||"GET";if(options=loadProxy())this.agentCache.has(options)?opts.agent=this.agentCache.get(options):(opts.agent=new HttpsProxyAgent(options),this.agentCache.set(options,opts.agent));return opts};global.prototype.validateStatus=function(status){return 200<=status&&300>status};global.prototype.paramsSerializer=function(params){return querystring_1.default.stringify(params)};global.prototype.isReadableStream=
function(obj){return obj instanceof stream_1.default.Readable&&"function"===typeof obj._read};global.prototype.translateResponse=function(opts,res,data){var headers={};res.headers.forEach(function(value,key){headers[key]=value});return{config:opts,data:data,headers:headers,status:res.status,statusText:res.statusText}};exports.Gaxios=global}
//# sourceMappingURL=module$node_modules$gaxios$build$src$gaxios.js.map
