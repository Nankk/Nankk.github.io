shadow$provide.module$node_modules$url_template$lib$url_template=function(global,require,module,exports){(function(root,factory){"object"===typeof exports?module.exports=factory():"function"===typeof define&&define.amd?define([],factory):root.urltemplate=factory()})(this,function(){function UrlTemplate(){}UrlTemplate.prototype.encodeReserved=function(str){return str.split(/(%[0-9A-Fa-f]{2})/g).map(function(part){/%[0-9A-Fa-f]/.test(part)||(part=encodeURI(part).replace(/%5B/g,"[").replace(/%5D/g,"]"));
return part}).join("")};UrlTemplate.prototype.encodeUnreserved=function(str){return encodeURIComponent(str).replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})};UrlTemplate.prototype.encodeValue=function(operator,value,key){value="+"===operator||"#"===operator?this.encodeReserved(value):this.encodeUnreserved(value);return key?this.encodeUnreserved(key)+"\x3d"+value:value};UrlTemplate.prototype.isDefined=function(value){return void 0!==value&&null!==value};UrlTemplate.prototype.isKeyOperator=
function(operator){return";"===operator||"\x26"===operator||"?"===operator};UrlTemplate.prototype.getValues=function(context,operator,key,modifier){var value$jscomp$0=context[key],result=[];if(this.isDefined(value$jscomp$0)&&""!==value$jscomp$0)if("string"===typeof value$jscomp$0||"number"===typeof value$jscomp$0||"boolean"===typeof value$jscomp$0)value$jscomp$0=value$jscomp$0.toString(),modifier&&"*"!==modifier&&(value$jscomp$0=value$jscomp$0.substring(0,parseInt(modifier,10))),result.push(this.encodeValue(operator,
value$jscomp$0,this.isKeyOperator(operator)?key:null));else if("*"===modifier)Array.isArray(value$jscomp$0)?value$jscomp$0.filter(this.isDefined).forEach(function(value){result.push(this.encodeValue(operator,value,this.isKeyOperator(operator)?key:null))},this):Object.keys(value$jscomp$0).forEach(function(k){this.isDefined(value$jscomp$0[k])&&result.push(this.encodeValue(operator,value$jscomp$0[k],k))},this);else{var tmp=[];Array.isArray(value$jscomp$0)?value$jscomp$0.filter(this.isDefined).forEach(function(value){tmp.push(this.encodeValue(operator,
value))},this):Object.keys(value$jscomp$0).forEach(function(k){this.isDefined(value$jscomp$0[k])&&(tmp.push(this.encodeUnreserved(k)),tmp.push(this.encodeValue(operator,value$jscomp$0[k].toString())))},this);this.isKeyOperator(operator)?result.push(this.encodeUnreserved(key)+"\x3d"+tmp.join(",")):0!==tmp.length&&result.push(tmp.join(","))}else";"===operator?this.isDefined(value$jscomp$0)&&result.push(this.encodeUnreserved(key)):""!==value$jscomp$0||"\x26"!==operator&&"?"!==operator?""===value$jscomp$0&&
result.push(""):result.push(this.encodeUnreserved(key)+"\x3d");return result};UrlTemplate.prototype.parse=function(template){var that=this,operators="+#./;?\x26".split("");return{expand:function(context){return template.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(_,expression,literal){if(expression){var operator=null,values=[];-1!==operators.indexOf(expression.charAt(0))&&(operator=expression.charAt(0),expression=expression.substr(1));expression.split(/,/g).forEach(function(variable){variable=/([^:\*]*)(?::(\d+)|(\*))?/.exec(variable);
values.push.apply(values,that.getValues(context,operator,variable[1],variable[2]||variable[3]))});return operator&&"+"!==operator?(_=",","?"===operator?_="\x26":"#"!==operator&&(_=operator),(0!==values.length?operator:"")+values.join(_)):values.join(",")}return that.encodeReserved(literal)})}}};return new UrlTemplate})}
//# sourceMappingURL=module$node_modules$url_template$lib$url_template.js.map
